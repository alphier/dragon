<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>管理员</title>
	<link rel="stylesheet" type="text/css" href="css/metro/easyui.css">
	<link rel="stylesheet" type="text/css" href="css/icon.css">
	<script type="text/javascript" src="lib/jquery.min.js"></script>
	<script type="text/javascript" src="lib/jquery.easyui.min.js"></script>
	<script type="text/javascript" src="main.js"></script>
</head>
<body>
	<div style="width:100%;padding:5px;font-size:16px;">
		你好！<%= user.username %>
		<a id="quit" class="btn" href="/logout" style="font-size:16px">退出</a>
	</div>
	<div class="easyui-panel" title="用户" style="padding:5px;">
		<style>.panel-title{font-size:16px}</style>
		<button id="adduser" type="submit" class="easyui-linkbutton" data-options="iconCls:'icon-add'">
			<span style="font-size:16px;">添加用户</span>
		</button>
		<button id="modifypwd" type="submit" class="easyui-linkbutton" data-options="iconCls:'icon-add'">
			<span style="font-size:16px;">修改密码</span>
		</button>
		<label style="font-size:16px;">用户名：</label>
		<input class="easyui-textbox" type="text" id="username" name="username" style="width:100px;font-size:16px;">
		<label style="font-size:16px;">密码：</label>
		<input class="easyui-textbox" type="text" id="password" name="password" style="width:100px;font-size:16px;">
		<label style="font-size:16px;">设备编号：</label>
		<input class="easyui-numberbox" type="text" id="deviceid" name="deviceid" style="width:100px;font-size:16px;">
		<label style="font-size:16px;">(1 ~ 65535)</label>
		<label id="addResult" style="font-size:16px;color:red;"></label>	
		<div style="margin:5px 0;"></div>	
		<table id="dg" class="easyui-datagrid" style="width:900px;"	data-options="
			singleSelect:true,
			pagination:true,
			pageSize:20,
			url:'users_datagrid.json'
			,method:'get'">
			<style>
			  .datagrid-cell{
				font-size:16px;
			  }
			</style>
			<thead>
				<tr>
					<th data-options="field:'username',width:80">用户名称</th>
					<th data-options="field:'password',width:80">密码</th>
					<th data-options="field:'deviceId',width:80">设备编号</th>
					<th data-options="field:'state',width:80">在线状态</th>
					<th data-options="field:'sendIndex',width:80">发送次数</th>
					<th data-options="field:'timestamp',width:180">上次在线时间</th>					
					<th data-options="field:'_operate',width:80,align:'center',formatter:operation">操作</th>
				</tr>
			</thead>
		</table>
		<label id="delResult" style="font-size:16px;"><label>
	</div>
</body>
<script type="text/javascript">
$("#adduser").click(function() {
	addUser();
});	
$("#modifypwd").click(function() {
	modifyPwd();
});
$('#dg').datagrid({
	onClickRow: function(index,row){
		clickRow(index,row);		
	}
});
</script>
</html>